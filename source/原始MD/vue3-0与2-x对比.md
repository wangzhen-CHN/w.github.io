---
title: vue3.0与2.x对比
date: 2020-11-10 16:58:07
tags:
---
<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid #0e88eb; font-size: 1.4em; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 1.4em; display: inline-block; font-weight: bold; //background: #0e88eb; color: #ffffff; color: #0e88eb; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">一、 为什么重写 vue2.X?</span><span class="suffix"></span></h1><p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">尤雨溪的回答是两个关键因素：</p><ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">主流浏览器对新的 JavaScript 语言特性的普遍支持。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">当前 Vue 代码库随着时间的推移而暴露出来的设计和体系架构问题。<!-- more -->
</section></li></ul><h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; border-bottom: 2px solid #0e88eb; font-size: 1.4em; text-align: center;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 1.4em; display: inline-block; font-weight: bold; //background: #0e88eb; color: #ffffff; color: #0e88eb; padding: 3px 10px 1px; border-top-right-radius: 3px; border-top-left-radius: 3px; margin-right: 3px;">二、Vue2.x 到 Vue3 详细对比</span><span class="suffix"></span></h1><h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.1- 生命周期的变化</span><span class="suffix"></span></h2>
<section class="table-container" data-tool="mdnice编辑器" style="overflow-x: auto;"><table style="display: table; text-align: left;"><thead><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><th style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-weight: bold; background-color: #f0f0f0; font-size: 15px; min-width: 85px;">Vue2.x</th><th style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-weight: bold; background-color: #f0f0f0; font-size: 15px; min-width: 85px;">Vue3</th></tr></thead><tbody style="border: 0;"><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">beforeCreate</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">使用 setup()</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">created</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">使用 setup()</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">beforeMount</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onBeforeMount</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">mounted</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onMounted</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">beforeUpdate</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onBeforeUpdate</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">updated</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onUpdated</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">beforeDestroy</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onBeforeUnmount</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: #F8F8F8;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">destroyed</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onUnmounted</td></tr><tr style="border: 0; border-top: 1px solid #ccc; background-color: white;"><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">errorCaptured</td><td style="border: 1px solid #ccc; padding: 5px 10px; text-align: left; font-size: 15px; min-width: 85px;">onErrorCaptured</td></tr></tbody></table>
</section><p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">使用 setup 代替了之前的 beforeCreate 和 created，其他生命周期名字有些变化</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.2- 使用 proxy 代替 defineProperty</span><span class="suffix"></span></h2>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">vue2.x 双向绑定的核心是 Object.defineProperty()</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.2.1- Object.defineProperty()语法</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">重点：vue 为什么对数组对象的深层监听无法实现，因为组件每次渲染都是将 data 里的数据通过 defineProperty 双向绑定上，之前没有后加的属性是不会被绑定上，也就不会触发更新渲染</p>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">Object.defineProperty(&nbsp;Obj,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">'name'</span>,&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;enumerable:&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">true</span>,&nbsp;&nbsp;&nbsp;&nbsp;configurable:&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">true</span>,&nbsp;&nbsp;&nbsp;&nbsp;get:&nbsp;function&nbsp;()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;def&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;set:&nbsp;function&nbsp;(&nbsp;val&nbsp;)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;=&nbsp;val&nbsp;&nbsp;&nbsp;&nbsp;}}&nbsp;)</code></pre>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.2.2- Proxy 的语法</span><span class="suffix" style="display: none;"></span></h3>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;handler&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;get:&nbsp;function(obj,&nbsp;prop)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;prop&nbsp;in&nbsp;obj&nbsp;?&nbsp;obj[prop]&nbsp;:&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">37</span>;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;set:function(){&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;...<span class="hljs-number" style="color: #d19a66; line-height: 26px;">13</span>个配置项};<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">const</span>&nbsp;p&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;Proxy({},&nbsp;handler);p.a&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>;p.b&nbsp;=&nbsp;undefined;console.log(p.a,&nbsp;p.b);console.log(<span class="hljs-string" style="color: #98c379; line-height: 26px;">'c'</span>&nbsp;in&nbsp;p,&nbsp;p.c);</code></pre>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">defineProperty 只能绑定首次渲染时候的属性，Proxy 需要的是整体，不需要关心里面有什么属性，而且 Proxy 的配置项有 13 种，可以做更细致的事情，这是之前的 defineProperty 无法达到的</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.2.3- 两者兼容性</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">1.vue2.x 之所以只能兼容到 IE8 就是因为 defineProperty 无法兼容 IE8,其他浏览器也会存在轻微兼容问题</p>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">2.proxy 的话除了 IE，其他浏览器都兼容</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.3- Diff 算法的提升</span><span class="suffix"></span></h2>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.3.1- 以往的渲染策略</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">vue2.x 提供类似于 HTML 的模板语法，但是，它是将模板编译成渲染函数来返回虚拟 DOM 树。Vue 框架通过递归遍历两个虚拟 DOM 树，并比较每个节点上的每个属性，来确定实际 DOM 的哪些部分需要更新。</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.3.2- 潜在的问题</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">由于现代 JavaScript 引擎执行的高级优化，这种有点暴力的算法通常非常快速，但是 DOM 的更新仍然涉及许多不必要的 CPU 工作，那么如何解决呢？</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.3.3- Vue3 的突破</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">引用尤雨溪： 为了实现这一点，编译器和运行时需要协同工作：编译器分析模板并生成带有优化提示的代码，而运行时尽可能获取提示并采用快速路径。这里有三个主要的优化：</p>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">首先，在 DOM 树级别。我们注意到，在没有动态改变节点结构的模板指令（例如 v-if 和 v-for）的情况下，节点结构保持完全静态。如果我们将一个模板分成由这些结构指令分隔的嵌套"块"，则每个块中的节点结构将再次完全静态。当我们更新块中的节点时，我们不再需要递归遍历 DOM 树 - 该块内的动态绑定可以在一个平面数组中跟踪。这种优化通过将需要执行的树遍历量减少一个数量级来规避虚拟 DOM 的大部分开销。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">其次，编译器积极地检测模板中的静态节点、子树甚至数据对象，并在生成的代码中将它们提升到渲染函数之外。这样可以避免在每次渲染时重新创建这些对象，从而大大提高内存使用率并减少垃圾回收的频率。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">第三，在元素级别。编译器还根据需要执行的更新类型，为每个具有动态绑定的元素生成一个优化标志。例如，具有动态类绑定和许多静态属性的元素将收到一个标志，提示只需要进行类检查。运行时将获取这些提示并采用专用的快速路径。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">综合起来，这些技术大大改进了我们的渲染更新基准，Vue 3 有时占用的 CPU 时间不到 Vue 2 的十分之一。</section></li></ul>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.4- typeScript 的支持</span><span class="suffix"></span></h2>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.4.1- 存在的问题</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">vue2.x 中使用的都是 js，并没有类型系统这个概念，现如今 typescript 异常火爆，它的崛起是有原因的，因为对于规模很大的项目，没有类型声明，后期维护和代码的阅读都是头疼的事情，所以广大码农迫切的需要 vue 能完美支持 ts。</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.4.2- 如何实现</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">最终 vue3 借鉴了 react hook 实现了更自由的编程方式，提出了 Composition API，Composition API 不需要通过指定一长串选项来定义组件，而是允许用户像编写函数一样自由地表达、组合和重用有状态的组件逻辑，同时提供出色的 TypeScript 支持。</p>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.5- 打包体积变化</span><span class="suffix"></span></h2>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.5.1- 以前打包存在的问题</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">vue2 官方说的运行时打包师 23k，但这只是没安装依赖的时候，随着依赖包和框架特性的增多，有时候不必要的，未使用的代码文件都被打包了进去，所以后期项目大了，打包文件会特别多还很大。</p>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 18px; color: #0e88eb;"><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; color: #0e88eb;">2.5.2- vue3 是怎么做的</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">引用尤雨溪：</p>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">在 Vue 3 中，我们通过将大多数全局 API 和内部帮助程序移动到 Javascript 的 module.exports 属性上实现这一点。这允许现代模式下的 module bundler 能够静态地分析模块依赖关系，并删除与未使用的 module.exports 属性相关的代码。模板编译器还生成了对树抖动友好的代码，只有在模板中实际使用某个特性时，该代码才导入该特性的帮助程序。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">尽管增加了许多新特性，但 Vue 3 被压缩后的基线大小约为 10 KB，不到 Vue 2 的一半。</section></li></ul>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 22px; text-align: left; margin: 20px 10px 0px 0px;"><span class="prefix" style="display: none;"></span><span class="content" style="font-family: STHeitiSC-Light; font-size: 22px; color: #0e88eb; font-weight: bolder; display: inline-block; padding-left: 10px; border-left: 5px solid #0e88eb;">2.6-其他 Api 和功能的改动</span><span class="suffix"></span></h2>
<p data-tool="mdnice编辑器" style="padding-top: 8px; padding-bottom: 8px; color: black; margin: 10px 10px; line-height: 1.75; letter-spacing: 0.2em; font-size: 15px; word-spacing: 0.1em;">注释：这些小改动就不做更细的说明，只列举下。 <a href="https://www.vue3js.cn/docs/zh/guide/migration/introduction.html#%E6%A6%82%E8%A7%88" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #0e88eb; border-bottom: 0px solid #ff3502; font-family: STHeitiSC-Light;">详细使用看 vue2 的迁移部分</a></p>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">Global API</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">模板指令</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">组件</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">渲染函数</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">vue-cli 从 v4.5.0 开始提供 Vue 3 预设</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">Vue Router 4.0 提供了 Vue 3 支持，并有许多突破性的变化</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500; font-size: 15px;">Vuex 4.0 提供了 Vue 3 支持，其 API 与 2.x 基本相同</section></li></ul>
</section>